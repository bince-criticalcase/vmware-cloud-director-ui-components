<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>vmware-cloud-director-ui-components documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">vmware-cloud-director-ui-components documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content directive">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Directives</li>
  <li>DropdownFocusHandlerDirective</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/components/src/dropdown/dropdown-focus-handler.directive.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Added on to vcd-dropdown component to link menu items of the dropdown on which this directive is added. each item is linked to its
neighbors in the 4 directions. It then uses the <a href="../injectables/DropdownFocusHandlerService.html">DropdownFocusHandlerService</a> to move the DOM focus between the menu items.</p>

            </p>

            <p class="comment">
                <h3>Implements</h3>
            </p>
            <p class="comment">
                            <code><a href="https://angular.io/api/core/AfterViewInit" target="_blank" >AfterViewInit</a></code>
                            <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
            </p>


        <section>
            <h3>Metadata</h3>
            <table class="table table-sm table-hover">
                <tbody>
                    <tr>
                        <td class="col-md-3">Providers</td>
                        <td class="col-md-9">
                            <code>
                                SubscriptionTracker
                            </code>
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-3">Selector</td>
                        <td class="col-md-9"><code>vcd-dropdown[vcdDropdownFocusHandler]</code></td>
                    </tr>

                </tbody>
            </table>
        </section>

            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#closeVcdDropdown">closeVcdDropdown</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#clrDropdownMenuEl">clrDropdownMenuEl</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#dropdownTriggerEl">dropdownTriggerEl</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#isRootDropdown">isRootDropdown</a>
                            </li>
                            <li>
                                <a href="#menuItems">menuItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#menuTrigger">menuTrigger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#timeoutId">timeoutId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#unlistenRightArrowKeyPress">unlistenRightArrowKeyPress</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getDropdownItemElement">getDropdownItemElement</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#linkMenuItems">linkMenuItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#linkVertical">linkVertical</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#listenToRightArrowKeyPressOnNestedTrigger">listenToRightArrowKeyPressOnNestedTrigger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#moveFocusToFirstItem">moveFocusToFirstItem</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit">ngAfterViewInit</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#registerRootMenuContainer">registerRootMenuContainer</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#reset">reset</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#rootMenuTrigger">rootMenuTrigger</a>
                                </li>
                                <li>
                                    <a href="#nestedMenuTrigger">nestedMenuTrigger</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(parentVcdDropdown: <a href="../components/DropdownComponent.html">DropdownComponent</a>, parentFocusHandler: DropdownFocusHandlerDirective, hostVcdDropdown: <a href="../components/DropdownComponent.html">DropdownComponent</a>, focusHandlerService: <a href="../injectables/DropdownFocusHandlerService.html">DropdownFocusHandlerService</a>, renderer: <a href="https://angular.io/api/core/Renderer2" target="_blank">Renderer2</a>, subscriptionTracker: <a href="../injectables/SubscriptionTracker.html">SubscriptionTracker</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:67</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>parentVcdDropdown</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/DropdownComponent.html" target="_self" >DropdownComponent</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>parentFocusHandler</td>
                                                  
                                                        <td>
                                                                    <code>DropdownFocusHandlerDirective</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>hostVcdDropdown</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/DropdownComponent.html" target="_self" >DropdownComponent</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>focusHandlerService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DropdownFocusHandlerService.html" target="_self" >DropdownFocusHandlerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>renderer</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/Renderer2" target="_blank" >Renderer2</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>subscriptionTracker</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SubscriptionTracker.html" target="_self" >SubscriptionTracker</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDropdownItemElement"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            getDropdownItemElement
                        </b>
                        <a href="#getDropdownItemElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDropdownItemElement(item: Element)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="165"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:165</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>item</td>
                                    <td>
                                            <code>Element</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>HTMLElement</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="linkMenuItems"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            linkMenuItems
                        </b>
                        <a href="#linkMenuItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>linkMenuItems()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="172"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:172</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="linkVertical"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            linkVertical
                        </b>
                        <a href="#linkVertical"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>linkVertical()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listenToRightArrowKeyPressOnNestedTrigger"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            listenToRightArrowKeyPressOnNestedTrigger
                        </b>
                        <a href="#listenToRightArrowKeyPressOnNestedTrigger"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listenToRightArrowKeyPressOnNestedTrigger()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="119"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:119</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sometimes when the right arrow key is pressed on a nested menu trigger, the event is propagating to sibling nested menu triggers and
the event handlers attached to the menu triggers by clarity to toggle the menus are being invoked. Because of this, pressing right
arrow on a nested menu is opening other sibling menus as well</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="moveFocusToFirstItem"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            moveFocusToFirstItem
                        </b>
                        <a href="#moveFocusToFirstItem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>moveFocusToFirstItem()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="151"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:151</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <b>
                            ngAfterViewInit
                        </b>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="95"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:95</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>After a dropdown menu is opened, it creates <a href="../interfaces/MenuItem.html">MenuItem</a> for each of the menu items along with their trigger menu item and links
them. It also then moves the focus to first item in the opened menu list.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="138"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:138</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="registerRootMenuContainer"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            registerRootMenuContainer
                        </b>
                        <a href="#registerRootMenuContainer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>registerRootMenuContainer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="144"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:144</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reset"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            reset
                        </b>
                        <a href="#reset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reset()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="130"
                            class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:130</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="closeVcdDropdown"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            closeVcdDropdown</b>
                            <a href="#closeVcdDropdown"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>() &#x3D;&gt; {
        this.hostVcdDropdown.clrDropdown.toggleService.open &#x3D; false;
    }</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="194" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:194</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="clrDropdownMenuEl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            clrDropdownMenuEl</b>
                            <a href="#clrDropdownMenuEl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>HTMLElement</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:86</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dropdownTriggerEl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            dropdownTriggerEl</b>
                            <a href="#dropdownTriggerEl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>HTMLElement</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="85" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:85</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isRootDropdown"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            isRootDropdown</b>
                            <a href="#isRootDropdown"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>!this.parentVcdDropdown</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>!this.parentVcdDropdown</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:87</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="menuItems"></a>
                        <span class="name">
                            <b>
                            menuItems</b>
                            <a href="#menuItems"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/MenuItem.html" target="_self" >MenuItem[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:80</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>List of focusable menu items with their neighbors in 4 directions.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="menuTrigger"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            menuTrigger</b>
                            <a href="#menuTrigger"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/MenuItem.html" target="_self" >MenuItem</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:84</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The menu item which can toggle this menu. This can be the root dropdown trigger or nested menu trigger</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timeoutId"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            timeoutId</b>
                            <a href="#timeoutId"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="88" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:88</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unlistenRightArrowKeyPress"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            unlistenRightArrowKeyPress</b>
                            <a href="#unlistenRightArrowKeyPress"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:89</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="rootMenuTrigger"></a>
                        <span class="name"><b>rootMenuTrigger</b><a href="#rootMenuTrigger"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>rootMenuTrigger()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="198" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:198</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="nestedMenuTrigger"></a>
                        <span class="name"><b>nestedMenuTrigger</b><a href="#nestedMenuTrigger"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>nestedMenuTrigger()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="205" class="link-to-prism">projects/components/src/dropdown/dropdown-focus-handler.directive.ts:205</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { AfterViewInit, Directive, Host, OnDestroy, Optional, Renderer2, SkipSelf } from &#x27;@angular/core&#x27;;
import { SubscriptionTracker } from &#x27;../common/subscription/subscription-tracker&#x27;;
import { DropdownFocusHandlerService } from &#x27;./dropdown-focus-handler.service&#x27;;
import { DropdownComponent } from &#x27;./dropdown.component&#x27;;

/**
 * To filter out the non-activatable separator item type when creating linked menu list {@link #linkMenuItems}. Because, we don&#x27;t
 * want the focus to go to separator item type when navigating using the arrow keys
 */
enum ActivatableMenuItemType {
    /**
     * Menu item that results in executing of an action when clicked
     */
    BUTTON &#x3D; &#x27;button&#x27;,
    /**
     * Activating this would open a nested menu
     */
    NESTED_VCD_DROPDOWN &#x3D; &#x27;vcd-dropdown&#x27;,
}

const NESTED_DROPDOWN_TRIGGER &#x3D; &#x27;clr-dropdown &gt; button&#x27;;

/**
 * Arrow keys directions
 */
export enum Direction {
    UP &#x3D; &#x27;up&#x27;,
    DOWN &#x3D; &#x27;down&#x27;,
    LEFT &#x3D; &#x27;left&#x27;,
    RIGHT &#x3D; &#x27;right&#x27;,
}

/**
 * Object wrapping the focusable HTML elements of dropdown menu with the neighbors in 4 directions of each menu item.
 */
export interface MenuItem {
    /**
     * The HTML element of this dropdown menu item
     */
    element: HTMLElement;
    /**
     * Neighboring menu items in all the 4 directions
     */
    up?: MenuItem;
    down?: MenuItem;
    left?: MenuItem;
    right?: MenuItem;
    /**
     * Call back to close the menu for which this menu item can be a trigger. called from {@link DropdownFocusHandlerService}
     */
    closeMenu?: () &#x3D;&gt; void;
}

/**
 * Added on to vcd-dropdown component to link menu items of the dropdown on which this directive is added. each item is linked to its
 * neighbors in the 4 directions. It then uses the {@link DropdownFocusHandlerService} to move the DOM focus between the menu items.
 */
@Directive({
    selector: &#x27;vcd-dropdown[vcdDropdownFocusHandler]&#x27;,
    providers: [SubscriptionTracker],
})
export class DropdownFocusHandlerDirective implements AfterViewInit, OnDestroy {
    constructor(
        @Optional() @SkipSelf() private parentVcdDropdown: DropdownComponent,
        @Optional() @SkipSelf() private parentFocusHandler: DropdownFocusHandlerDirective,
        @Host() private hostVcdDropdown: DropdownComponent,
        private focusHandlerService: DropdownFocusHandlerService,
        private renderer: Renderer2,
        private subscriptionTracker: SubscriptionTracker
    ) {}

    /**
     * List of focusable menu items with their neighbors in 4 directions.
     */
    menuItems: MenuItem[];
    /**
     * The menu item which can toggle this menu. This can be the root dropdown trigger or nested menu trigger
     */
    private menuTrigger: MenuItem;
    private dropdownTriggerEl: HTMLElement;
    private clrDropdownMenuEl: HTMLElement;
    private isRootDropdown &#x3D; !this.parentVcdDropdown;
    private timeoutId: number;
    private unlistenRightArrowKeyPress: (...argArray: any[]) &#x3D;&gt; any;

    /**
     * After a dropdown menu is opened, it creates {@link MenuItem} for each of the menu items along with their trigger menu item and links
     * them. It also then moves the focus to first item in the opened menu list.
     */
    ngAfterViewInit(): void {
        this.dropdownTriggerEl &#x3D; this.hostVcdDropdown._dropdownTriggerEl;
        this.listenToRightArrowKeyPressOnNestedTrigger();

        this.subscriptionTracker.subscribe(this.hostVcdDropdown.dropdownMenuUpdated, (dropdown) &#x3D;&gt; {
            if (!dropdown) {
                this.reset();
                return;
            }
            this.clrDropdownMenuEl &#x3D; dropdown.menu;
            // We have to wait till the dropdown is opened for getting the menus trigger because, in case of a nested menu, the trigger is
            // obtained from parent menus menuItems and they are not initialized even if we wait till the ngAfterViewInit hook
            this.menuTrigger &#x3D; this.isRootDropdown ? this.rootMenuTrigger : this.nestedMenuTrigger;
            this.registerRootMenuContainer();
            this.linkMenuItems();
            this.moveFocusToFirstItem();
        });
    }

    /**
     * Sometimes when the right arrow key is pressed on a nested menu trigger, the event is propagating to sibling nested menu triggers and
     * the event handlers attached to the menu triggers by clarity to toggle the menus are being invoked. Because of this, pressing right
     * arrow on a nested menu is opening other sibling menus as well
     */
    private listenToRightArrowKeyPressOnNestedTrigger(): void {
        if (this.isRootDropdown) {
            return;
        }
        this.unlistenRightArrowKeyPress &#x3D; this.renderer.listen(
            this.dropdownTriggerEl,
            &#x27;keydown.arrowright&#x27;,
            (event: Event) &#x3D;&gt; event.stopPropagation()
        );
    }

    private reset(): void {
        if (this.isRootDropdown) {
            this.focusHandlerService.unlistenFuncs.forEach((unlisten) &#x3D;&gt; unlisten());
        }
        this.menuTrigger &#x3D; null;
        this.menuItems &#x3D; null;
    }

    ngOnDestroy(): void {
        if (this.unlistenRightArrowKeyPress) {
            this.unlistenRightArrowKeyPress();
        }
    }

    private registerRootMenuContainer(): void {
        if (this.isRootDropdown) {
            const rootMenuContainer &#x3D; this.clrDropdownMenuEl;
            this.focusHandlerService.listenToArrowKeys(rootMenuContainer);
        }
    }

    private moveFocusToFirstItem(): void {
        this.focusHandlerService.moveFocusTo(this.menuTrigger);
        // After the menu is opened, the ClrDropdownMenu wouldn&#x27;t be attached to the DOM until the next change detection cycle.
        // So setTimeout is the only way to wait for the ClrDropdownMenu to be ready to move focus to first item.
        this.timeoutId &#x3D; window.setTimeout(() &#x3D;&gt; {
            if (this.parentVcdDropdown) {
                this.focusHandlerService.moveFocus(Direction.RIGHT);
            } else {
                this.focusHandlerService.moveFocus(Direction.DOWN);
            }
            window.clearTimeout(this.timeoutId);
        });
    }

    private getDropdownItemElement(item: Element): HTMLElement {
        // We only need the underlying button that opens the nested dropdown as that is the activatable/focusable item
        return (item.matches(ActivatableMenuItemType.BUTTON)
            ? item
            : item.querySelector(NESTED_DROPDOWN_TRIGGER)) as HTMLElement;
    }

    private linkMenuItems(): void {
        const menuChildren: Element[] &#x3D; Array.from(this.clrDropdownMenuEl.children);
        this.menuItems &#x3D; menuChildren
            .filter(
                (child) &#x3D;&gt;
                    child.matches(ActivatableMenuItemType.BUTTON) ||
                    child.matches(ActivatableMenuItemType.NESTED_VCD_DROPDOWN)
            )
            .map((child) &#x3D;&gt; ({
                element: this.getDropdownItemElement(child),
                left: this.menuTrigger,
            }));
        this.linkVertical();
        // Lint to menu trigger
        if (this.isRootDropdown) {
            this.menuTrigger.down &#x3D; this.menuItems[0];
        } else {
            // If there is a parent dropdown, We have to link these menu items to their trigger in the parent dropdown
            this.menuTrigger.right &#x3D; this.menuItems[0];
        }
    }

    private closeVcdDropdown &#x3D; () &#x3D;&gt; {
        this.hostVcdDropdown.clrDropdown.toggleService.open &#x3D; false;
    };

    private get rootMenuTrigger(): MenuItem {
        return {
            element: this.dropdownTriggerEl,
            closeMenu: this.closeVcdDropdown,
        };
    }

    private get nestedMenuTrigger(): MenuItem {
        const menuTrigger &#x3D; this.parentFocusHandler.menuItems.find((item) &#x3D;&gt; {
            return Object.is(item.element.innerText, this.dropdownTriggerEl.innerText);
        });
        menuTrigger.closeMenu &#x3D; this.closeVcdDropdown;
        return menuTrigger;
    }

    private linkVertical(): void {
        this.menuItems.forEach((menuItem: MenuItem, index: number) &#x3D;&gt; {
            if (index &gt; 0) {
                menuItem.up &#x3D; this.menuItems[index - 1];
            }
            if (index &lt; this.menuItems.length - 1) {
                menuItem.down &#x3D; this.menuItems[index + 1];
            }
        });
        if (this.menuItems.length &gt; 1) {
            this.menuItems[0].up &#x3D; this.menuItems[this.menuItems.length - 1];
            this.menuItems[this.menuItems.length - 1].down &#x3D; this.menuItems[0];
        }
    }
}
</code></pre>
    </div>

</div>








                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'directive';
            var COMPODOC_CURRENT_PAGE_URL = 'DropdownFocusHandlerDirective.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
